/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/recommendations/route";
exports.ids = ["app/api/recommendations/route"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "?32c4":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?66e9":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frecommendations%2Froute&page=%2Fapi%2Frecommendations%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frecommendations%2Froute.ts&appDir=%2FUsers%2Fvaitahahavya%2FProjects%2Fmorandi%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fvaitahahavya%2FProjects%2Fmorandi&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frecommendations%2Froute&page=%2Fapi%2Frecommendations%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frecommendations%2Froute.ts&appDir=%2FUsers%2Fvaitahahavya%2FProjects%2Fmorandi%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fvaitahahavya%2FProjects%2Fmorandi&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_vaitahahavya_Projects_morandi_src_app_api_recommendations_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/recommendations/route.ts */ \"(rsc)/./src/app/api/recommendations/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/recommendations/route\",\n        pathname: \"/api/recommendations\",\n        filename: \"route\",\n        bundlePath: \"app/api/recommendations/route\"\n    },\n    resolvedPagePath: \"/Users/vaitahahavya/Projects/morandi/src/app/api/recommendations/route.ts\",\n    nextConfigOutput,\n    userland: _Users_vaitahahavya_Projects_morandi_src_app_api_recommendations_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/recommendations/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZyZWNvbW1lbmRhdGlvbnMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnJlY29tbWVuZGF0aW9ucyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnJlY29tbWVuZGF0aW9ucyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnZhaXRhaGFoYXZ5YSUyRlByb2plY3RzJTJGbW9yYW5kaSUyRnNyYyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZ2YWl0YWhhaGF2eWElMkZQcm9qZWN0cyUyRm1vcmFuZGkmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDeUI7QUFDdEc7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUM2Sjs7QUFFN0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFkbGVzcy1lY29tbWVyY2UvPzYxNDkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL3ZhaXRhaGFoYXZ5YS9Qcm9qZWN0cy9tb3JhbmRpL3NyYy9hcHAvYXBpL3JlY29tbWVuZGF0aW9ucy9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvcmVjb21tZW5kYXRpb25zL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcmVjb21tZW5kYXRpb25zXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9yZWNvbW1lbmRhdGlvbnMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvdmFpdGFoYWhhdnlhL1Byb2plY3RzL21vcmFuZGkvc3JjL2FwcC9hcGkvcmVjb21tZW5kYXRpb25zL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3JlY29tbWVuZGF0aW9ucy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frecommendations%2Froute&page=%2Fapi%2Frecommendations%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frecommendations%2Froute.ts&appDir=%2FUsers%2Fvaitahahavya%2FProjects%2Fmorandi%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fvaitahahavya%2FProjects%2Fmorandi&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/recommendations/route.ts":
/*!**********************************************!*\
  !*** ./src/app/api/recommendations/route.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./src/lib/auth.ts\");\n/* harmony import */ var _lib_recommendations__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/recommendations */ \"(rsc)/./src/lib/recommendations.ts\");\n\n\n\n\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const productId = searchParams.get(\"productId\");\n        const type = searchParams.get(\"type\") || \"personalized\";\n        const limit = parseInt(searchParams.get(\"limit\") || \"10\");\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_lib_auth__WEBPACK_IMPORTED_MODULE_2__.authOptions);\n        const userId = session?.user?.id;\n        let recommendations;\n        switch(type){\n            case \"product\":\n                if (!productId) {\n                    return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                        error: \"Product ID required for product recommendations\"\n                    }, {\n                        status: 400\n                    });\n                }\n                recommendations = await (0,_lib_recommendations__WEBPACK_IMPORTED_MODULE_3__.getProductRecommendations)(productId, userId, limit);\n                break;\n            case \"personalized\":\n                if (!userId) {\n                    // If no user, return popular products\n                    recommendations = await (0,_lib_recommendations__WEBPACK_IMPORTED_MODULE_3__.getPopularProducts)(limit);\n                } else {\n                    recommendations = await (0,_lib_recommendations__WEBPACK_IMPORTED_MODULE_3__.getPersonalizedRecommendations)(userId, limit);\n                }\n                break;\n            case \"similar\":\n                if (!productId) {\n                    return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                        error: \"Product ID required for similar products\"\n                    }, {\n                        status: 400\n                    });\n                }\n                recommendations = await (0,_lib_recommendations__WEBPACK_IMPORTED_MODULE_3__.getSimilarProducts)(productId, limit);\n                break;\n            case \"popular\":\n                recommendations = await (0,_lib_recommendations__WEBPACK_IMPORTED_MODULE_3__.getPopularProducts)(limit);\n                break;\n            default:\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    error: \"Invalid recommendation type\"\n                }, {\n                    status: 400\n                });\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            recommendations\n        });\n    } catch (error) {\n        console.error(\"Recommendations error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9yZWNvbW1lbmRhdGlvbnMvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXdEO0FBQ1g7QUFDSjtBQU1WO0FBRXhCLGVBQWVPLElBQUlDLE9BQW9CO0lBQzVDLElBQUk7UUFDRixNQUFNLEVBQUVDLFlBQVksRUFBRSxHQUFHLElBQUlDLElBQUlGLFFBQVFHLEdBQUc7UUFDNUMsTUFBTUMsWUFBWUgsYUFBYUksR0FBRyxDQUFDO1FBQ25DLE1BQU1DLE9BQU9MLGFBQWFJLEdBQUcsQ0FBQyxXQUFXO1FBQ3pDLE1BQU1FLFFBQVFDLFNBQVNQLGFBQWFJLEdBQUcsQ0FBQyxZQUFZO1FBRXBELE1BQU1JLFVBQVUsTUFBTWhCLDJEQUFnQkEsQ0FBQ0Msa0RBQVdBO1FBQ2xELE1BQU1nQixTQUFTRCxTQUFTRSxNQUFNQztRQUU5QixJQUFJQztRQUVKLE9BQVFQO1lBQ04sS0FBSztnQkFDSCxJQUFJLENBQUNGLFdBQVc7b0JBQ2QsT0FBT1osa0ZBQVlBLENBQUNzQixJQUFJLENBQ3RCO3dCQUFFQyxPQUFPO29CQUFrRCxHQUMzRDt3QkFBRUMsUUFBUTtvQkFBSTtnQkFFbEI7Z0JBQ0FILGtCQUFrQixNQUFNbEIsK0VBQXlCQSxDQUFDUyxXQUFXTSxRQUFRSDtnQkFDckU7WUFFRixLQUFLO2dCQUNILElBQUksQ0FBQ0csUUFBUTtvQkFDWCxzQ0FBc0M7b0JBQ3RDRyxrQkFBa0IsTUFBTWYsd0VBQWtCQSxDQUFDUztnQkFDN0MsT0FBTztvQkFDTE0sa0JBQWtCLE1BQU1qQixvRkFBOEJBLENBQUNjLFFBQVFIO2dCQUNqRTtnQkFDQTtZQUVGLEtBQUs7Z0JBQ0gsSUFBSSxDQUFDSCxXQUFXO29CQUNkLE9BQU9aLGtGQUFZQSxDQUFDc0IsSUFBSSxDQUN0Qjt3QkFBRUMsT0FBTztvQkFBMkMsR0FDcEQ7d0JBQUVDLFFBQVE7b0JBQUk7Z0JBRWxCO2dCQUNBSCxrQkFBa0IsTUFBTWhCLHdFQUFrQkEsQ0FBQ08sV0FBV0c7Z0JBQ3REO1lBRUYsS0FBSztnQkFDSE0sa0JBQWtCLE1BQU1mLHdFQUFrQkEsQ0FBQ1M7Z0JBQzNDO1lBRUY7Z0JBQ0UsT0FBT2Ysa0ZBQVlBLENBQUNzQixJQUFJLENBQ3RCO29CQUFFQyxPQUFPO2dCQUE4QixHQUN2QztvQkFBRUMsUUFBUTtnQkFBSTtRQUVwQjtRQUVBLE9BQU94QixrRkFBWUEsQ0FBQ3NCLElBQUksQ0FBQztZQUFFRDtRQUFnQjtJQUM3QyxFQUFFLE9BQU9FLE9BQU87UUFDZEUsUUFBUUYsS0FBSyxDQUFDLDBCQUEwQkE7UUFDeEMsT0FBT3ZCLGtGQUFZQSxDQUFDc0IsSUFBSSxDQUN0QjtZQUFFQyxPQUFPO1FBQXdCLEdBQ2pDO1lBQUVDLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhZGxlc3MtZWNvbW1lcmNlLy4vc3JjL2FwcC9hcGkvcmVjb21tZW5kYXRpb25zL3JvdXRlLnRzP2JkYWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IGdldFNlcnZlclNlc3Npb24gfSBmcm9tICduZXh0LWF1dGgnO1xuaW1wb3J0IHsgYXV0aE9wdGlvbnMgfSBmcm9tICdAL2xpYi9hdXRoJztcbmltcG9ydCB7IFxuICBnZXRQcm9kdWN0UmVjb21tZW5kYXRpb25zLCBcbiAgZ2V0UGVyc29uYWxpemVkUmVjb21tZW5kYXRpb25zLCBcbiAgZ2V0U2ltaWxhclByb2R1Y3RzLFxuICBnZXRQb3B1bGFyUHJvZHVjdHMgXG59IGZyb20gJ0AvbGliL3JlY29tbWVuZGF0aW9ucyc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gICAgY29uc3QgcHJvZHVjdElkID0gc2VhcmNoUGFyYW1zLmdldCgncHJvZHVjdElkJyk7XG4gICAgY29uc3QgdHlwZSA9IHNlYXJjaFBhcmFtcy5nZXQoJ3R5cGUnKSB8fCAncGVyc29uYWxpemVkJztcbiAgICBjb25zdCBsaW1pdCA9IHBhcnNlSW50KHNlYXJjaFBhcmFtcy5nZXQoJ2xpbWl0JykgfHwgJzEwJyk7XG5cbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2VydmVyU2Vzc2lvbihhdXRoT3B0aW9ucyk7XG4gICAgY29uc3QgdXNlcklkID0gc2Vzc2lvbj8udXNlcj8uaWQ7XG5cbiAgICBsZXQgcmVjb21tZW5kYXRpb25zO1xuXG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlICdwcm9kdWN0JzpcbiAgICAgICAgaWYgKCFwcm9kdWN0SWQpIHtcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgICAgICB7IGVycm9yOiAnUHJvZHVjdCBJRCByZXF1aXJlZCBmb3IgcHJvZHVjdCByZWNvbW1lbmRhdGlvbnMnIH0sXG4gICAgICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJlY29tbWVuZGF0aW9ucyA9IGF3YWl0IGdldFByb2R1Y3RSZWNvbW1lbmRhdGlvbnMocHJvZHVjdElkLCB1c2VySWQsIGxpbWl0KTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3BlcnNvbmFsaXplZCc6XG4gICAgICAgIGlmICghdXNlcklkKSB7XG4gICAgICAgICAgLy8gSWYgbm8gdXNlciwgcmV0dXJuIHBvcHVsYXIgcHJvZHVjdHNcbiAgICAgICAgICByZWNvbW1lbmRhdGlvbnMgPSBhd2FpdCBnZXRQb3B1bGFyUHJvZHVjdHMobGltaXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlY29tbWVuZGF0aW9ucyA9IGF3YWl0IGdldFBlcnNvbmFsaXplZFJlY29tbWVuZGF0aW9ucyh1c2VySWQsIGxpbWl0KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnc2ltaWxhcic6XG4gICAgICAgIGlmICghcHJvZHVjdElkKSB7XG4gICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICAgICAgeyBlcnJvcjogJ1Byb2R1Y3QgSUQgcmVxdWlyZWQgZm9yIHNpbWlsYXIgcHJvZHVjdHMnIH0sXG4gICAgICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJlY29tbWVuZGF0aW9ucyA9IGF3YWl0IGdldFNpbWlsYXJQcm9kdWN0cyhwcm9kdWN0SWQsIGxpbWl0KTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3BvcHVsYXInOlxuICAgICAgICByZWNvbW1lbmRhdGlvbnMgPSBhd2FpdCBnZXRQb3B1bGFyUHJvZHVjdHMobGltaXQpO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICAgIHsgZXJyb3I6ICdJbnZhbGlkIHJlY29tbWVuZGF0aW9uIHR5cGUnIH0sXG4gICAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgcmVjb21tZW5kYXRpb25zIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1JlY29tbWVuZGF0aW9ucyBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn0gIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImdldFNlcnZlclNlc3Npb24iLCJhdXRoT3B0aW9ucyIsImdldFByb2R1Y3RSZWNvbW1lbmRhdGlvbnMiLCJnZXRQZXJzb25hbGl6ZWRSZWNvbW1lbmRhdGlvbnMiLCJnZXRTaW1pbGFyUHJvZHVjdHMiLCJnZXRQb3B1bGFyUHJvZHVjdHMiLCJHRVQiLCJyZXF1ZXN0Iiwic2VhcmNoUGFyYW1zIiwiVVJMIiwidXJsIiwicHJvZHVjdElkIiwiZ2V0IiwidHlwZSIsImxpbWl0IiwicGFyc2VJbnQiLCJzZXNzaW9uIiwidXNlcklkIiwidXNlciIsImlkIiwicmVjb21tZW5kYXRpb25zIiwianNvbiIsImVycm9yIiwic3RhdHVzIiwiY29uc29sZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/recommendations/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/auth.ts":
/*!*************************!*\
  !*** ./src/lib/auth.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions)\n/* harmony export */ });\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/providers/credentials */ \"(rsc)/./node_modules/next-auth/providers/credentials.js\");\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/google */ \"(rsc)/./node_modules/next-auth/providers/google.js\");\n/* harmony import */ var _supabase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./supabase */ \"(rsc)/./src/lib/supabase.ts\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nconst authOptions = {\n    providers: [\n        (0,next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n            clientId: process.env.GOOGLE_CLIENT_ID,\n            clientSecret: process.env.GOOGLE_CLIENT_SECRET\n        }),\n        (0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n            name: \"credentials\",\n            credentials: {\n                email: {\n                    label: \"Email\",\n                    type: \"email\"\n                },\n                password: {\n                    label: \"Password\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials) {\n                if (!credentials?.email || !credentials?.password) {\n                    return null;\n                }\n                const { data: user, error } = await _supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"users\").select(\"*\").eq(\"email\", credentials.email).single();\n                if (error || !user || !user.password) {\n                    return null;\n                }\n                const isPasswordValid = await bcryptjs__WEBPACK_IMPORTED_MODULE_3___default().compare(credentials.password, user.password);\n                if (!isPasswordValid) {\n                    return null;\n                }\n                return {\n                    id: user.id,\n                    email: user.email,\n                    name: user.name,\n                    image: user.image\n                };\n            }\n        })\n    ],\n    session: {\n        strategy: \"jwt\"\n    },\n    callbacks: {\n        async signIn ({ user, account, profile }) {\n            if (account?.provider === \"google\") {\n                // Check if user exists in database\n                const { data: existingUser } = await _supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"users\").select(\"*\").eq(\"email\", user.email).single();\n                if (!existingUser) {\n                    // Create new user from Google profile\n                    const { data: newUser, error } = await _supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"users\").insert({\n                        email: user.email,\n                        name: user.name,\n                        image: user.image,\n                        email_verified: new Date().toISOString()\n                    }).select().single();\n                    if (error) {\n                        console.error(\"Error creating user:\", error);\n                        return false;\n                    }\n                }\n            }\n            return true;\n        },\n        async jwt ({ token, user, account }) {\n            if (user) {\n                token.id = user.id;\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            if (token) {\n                session.user.id = token.id;\n            }\n            return session;\n        }\n    },\n    pages: {\n        signIn: \"/auth/signin\"\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU87UUFDTGIsUUFBUTtJQUNWO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL2hlYWRsZXNzLWVjb21tZXJjZS8uL3NyYy9saWIvYXV0aC50cz82NjkyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBdXRoT3B0aW9ucyB9IGZyb20gJ25leHQtYXV0aCc7XG5pbXBvcnQgQ3JlZGVudGlhbHNQcm92aWRlciBmcm9tICduZXh0LWF1dGgvcHJvdmlkZXJzL2NyZWRlbnRpYWxzJztcbmltcG9ydCBHb29nbGVQcm92aWRlciBmcm9tICduZXh0LWF1dGgvcHJvdmlkZXJzL2dvb2dsZSc7XG5pbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gJy4vc3VwYWJhc2UnO1xuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHRqcyc7XG5cbmV4cG9ydCBjb25zdCBhdXRoT3B0aW9uczogTmV4dEF1dGhPcHRpb25zID0ge1xuICBwcm92aWRlcnM6IFtcbiAgICBHb29nbGVQcm92aWRlcih7XG4gICAgICBjbGllbnRJZDogcHJvY2Vzcy5lbnYuR09PR0xFX0NMSUVOVF9JRCEsXG4gICAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkdPT0dMRV9DTElFTlRfU0VDUkVUISxcbiAgICB9KSxcbiAgICBDcmVkZW50aWFsc1Byb3ZpZGVyKHtcbiAgICAgIG5hbWU6ICdjcmVkZW50aWFscycsXG4gICAgICBjcmVkZW50aWFsczoge1xuICAgICAgICBlbWFpbDogeyBsYWJlbDogJ0VtYWlsJywgdHlwZTogJ2VtYWlsJyB9LFxuICAgICAgICBwYXNzd29yZDogeyBsYWJlbDogJ1Bhc3N3b3JkJywgdHlwZTogJ3Bhc3N3b3JkJyB9LFxuICAgICAgfSxcbiAgICAgIGFzeW5jIGF1dGhvcml6ZShjcmVkZW50aWFscykge1xuICAgICAgICBpZiAoIWNyZWRlbnRpYWxzPy5lbWFpbCB8fCAhY3JlZGVudGlhbHM/LnBhc3N3b3JkKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IGRhdGE6IHVzZXIsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgIC5mcm9tKCd1c2VycycpXG4gICAgICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAgICAgLmVxKCdlbWFpbCcsIGNyZWRlbnRpYWxzLmVtYWlsKVxuICAgICAgICAgIC5zaW5nbGUoKTtcblxuICAgICAgICBpZiAoZXJyb3IgfHwgIXVzZXIgfHwgIXVzZXIucGFzc3dvcmQpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGlzUGFzc3dvcmRWYWxpZCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKFxuICAgICAgICAgIGNyZWRlbnRpYWxzLnBhc3N3b3JkLFxuICAgICAgICAgIHVzZXIucGFzc3dvcmRcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoIWlzUGFzc3dvcmRWYWxpZCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpZDogdXNlci5pZCxcbiAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICAgICAgaW1hZ2U6IHVzZXIuaW1hZ2UsXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgIH0pLFxuICBdLFxuICBzZXNzaW9uOiB7XG4gICAgc3RyYXRlZ3k6ICdqd3QnLFxuICB9LFxuICBjYWxsYmFja3M6IHtcbiAgICBhc3luYyBzaWduSW4oeyB1c2VyLCBhY2NvdW50LCBwcm9maWxlIH0pIHtcbiAgICAgIGlmIChhY2NvdW50Py5wcm92aWRlciA9PT0gJ2dvb2dsZScpIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdXNlciBleGlzdHMgaW4gZGF0YWJhc2VcbiAgICAgICAgY29uc3QgeyBkYXRhOiBleGlzdGluZ1VzZXIgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oJ3VzZXJzJylcbiAgICAgICAgICAuc2VsZWN0KCcqJylcbiAgICAgICAgICAuZXEoJ2VtYWlsJywgdXNlci5lbWFpbCEpXG4gICAgICAgICAgLnNpbmdsZSgpO1xuXG4gICAgICAgIGlmICghZXhpc3RpbmdVc2VyKSB7XG4gICAgICAgICAgLy8gQ3JlYXRlIG5ldyB1c2VyIGZyb20gR29vZ2xlIHByb2ZpbGVcbiAgICAgICAgICBjb25zdCB7IGRhdGE6IG5ld1VzZXIsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgICAgLmZyb20oJ3VzZXJzJylcbiAgICAgICAgICAgIC5pbnNlcnQoe1xuICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCEsXG4gICAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICAgICAgaW1hZ2U6IHVzZXIuaW1hZ2UsXG4gICAgICAgICAgICAgIGVtYWlsX3ZlcmlmaWVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIHVzZXI6JywgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICBhc3luYyBqd3QoeyB0b2tlbiwgdXNlciwgYWNjb3VudCB9KSB7XG4gICAgICBpZiAodXNlcikge1xuICAgICAgICB0b2tlbi5pZCA9IHVzZXIuaWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdG9rZW47XG4gICAgfSxcbiAgICBhc3luYyBzZXNzaW9uKHsgc2Vzc2lvbiwgdG9rZW4gfSkge1xuICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgIHNlc3Npb24udXNlci5pZCA9IHRva2VuLmlkIGFzIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZXNzaW9uO1xuICAgIH0sXG4gIH0sXG4gIHBhZ2VzOiB7XG4gICAgc2lnbkluOiAnL2F1dGgvc2lnbmluJyxcbiAgfSxcbn07ICJdLCJuYW1lcyI6WyJDcmVkZW50aWFsc1Byb3ZpZGVyIiwiR29vZ2xlUHJvdmlkZXIiLCJzdXBhYmFzZSIsImJjcnlwdCIsImF1dGhPcHRpb25zIiwicHJvdmlkZXJzIiwiY2xpZW50SWQiLCJwcm9jZXNzIiwiZW52IiwiR09PR0xFX0NMSUVOVF9JRCIsImNsaWVudFNlY3JldCIsIkdPT0dMRV9DTElFTlRfU0VDUkVUIiwibmFtZSIsImNyZWRlbnRpYWxzIiwiZW1haWwiLCJsYWJlbCIsInR5cGUiLCJwYXNzd29yZCIsImF1dGhvcml6ZSIsImRhdGEiLCJ1c2VyIiwiZXJyb3IiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJzaW5nbGUiLCJpc1Bhc3N3b3JkVmFsaWQiLCJjb21wYXJlIiwiaWQiLCJpbWFnZSIsInNlc3Npb24iLCJzdHJhdGVneSIsImNhbGxiYWNrcyIsInNpZ25JbiIsImFjY291bnQiLCJwcm9maWxlIiwicHJvdmlkZXIiLCJleGlzdGluZ1VzZXIiLCJuZXdVc2VyIiwiaW5zZXJ0IiwiZW1haWxfdmVyaWZpZWQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJjb25zb2xlIiwiand0IiwidG9rZW4iLCJwYWdlcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/recommendations.ts":
/*!************************************!*\
  !*** ./src/lib/recommendations.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateRecommendations: () => (/* binding */ generateRecommendations),\n/* harmony export */   getPersonalizedRecommendations: () => (/* binding */ getPersonalizedRecommendations),\n/* harmony export */   getPopularProducts: () => (/* binding */ getPopularProducts),\n/* harmony export */   getProductRecommendations: () => (/* binding */ getProductRecommendations),\n/* harmony export */   getSimilarProducts: () => (/* binding */ getSimilarProducts),\n/* harmony export */   updateRecommendationsForUser: () => (/* binding */ updateRecommendationsForUser)\n/* harmony export */ });\n/* harmony import */ var _supabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./supabase */ \"(rsc)/./src/lib/supabase.ts\");\n\nasync function getProductRecommendations(productId, userId, limit = 5) {\n    const { data: recommendations, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"product_recommendations\").select(`\n      *,\n      recommended_product:products!product_recommendations_recommended_product_id_fkey(*)\n    `).eq(\"product_id\", productId).order(\"score\", {\n        ascending: false\n    }).limit(limit);\n    if (error) {\n        console.error(\"Error fetching recommendations:\", error);\n        return [];\n    }\n    return recommendations?.map((rec)=>rec.recommended_product) || [];\n}\nasync function getPersonalizedRecommendations(userId, limit = 10) {\n    // Get user's purchase history\n    const { data: userOrders } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"orders\").select(`\n      *,\n      order_items(\n        *,\n        product:products(*)\n      )\n    `).eq(\"user_id\", userId).in(\"status\", [\n        \"delivered\",\n        \"shipped\"\n    ]);\n    // Get user's wishlist\n    const { data: userWishlist } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"wishlist_items\").select(`\n      *,\n      product:products(*)\n    `).eq(\"user_id\", userId);\n    // Get user's reviews\n    const { data: userReviews } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"reviews\").select(`\n      *,\n      product:products(*)\n    `).eq(\"user_id\", userId).gte(\"rating\", 4);\n    // Collect all product IDs from user's history\n    const purchasedProductIds = userOrders?.flatMap((order)=>order.order_items?.map((item)=>item.product_id) || []) || [];\n    const wishlistProductIds = userWishlist?.map((item)=>item.product_id) || [];\n    const reviewedProductIds = userReviews?.map((review)=>review.product_id) || [];\n    const allUserProductIds = [\n        ...purchasedProductIds,\n        ...wishlistProductIds,\n        ...reviewedProductIds\n    ];\n    if (allUserProductIds.length === 0) {\n        // If no user history, return popular products\n        return getPopularProducts(limit);\n    }\n    // Get recommendations based on user's products\n    const { data: recommendations, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"product_recommendations\").select(`\n      *,\n      recommended_product:products!product_recommendations_recommended_product_id_fkey(*)\n    `).in(\"product_id\", allUserProductIds).not(\"recommended_product_id\", \"in\", `(${allUserProductIds.join(\",\")})`).order(\"score\", {\n        ascending: false\n    }).limit(limit);\n    if (error) {\n        console.error(\"Error fetching personalized recommendations:\", error);\n        return [];\n    }\n    return recommendations?.map((rec)=>rec.recommended_product) || [];\n}\nasync function getPopularProducts(limit = 10) {\n    // Get products with most orders\n    const { data: popularProducts, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"products\").select(`\n      *,\n      order_items(count),\n      reviews(count)\n    `).order(\"order_items(count)\", {\n        ascending: false\n    }).order(\"reviews(count)\", {\n        ascending: false\n    }).limit(limit);\n    if (error) {\n        console.error(\"Error fetching popular products:\", error);\n        return [];\n    }\n    return popularProducts || [];\n}\nasync function getSimilarProducts(productId, limit = 5) {\n    const { data: product } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"products\").select(\"*\").eq(\"id\", productId).single();\n    if (!product) return [];\n    // Find products in the same category\n    const { data: similarProducts, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"products\").select(\"*\").eq(\"category\", product.category).neq(\"id\", productId).limit(limit);\n    if (error) {\n        console.error(\"Error fetching similar products:\", error);\n        return [];\n    }\n    return similarProducts || [];\n}\nasync function generateRecommendations() {\n    const { data: products } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"products\").select(\"*\");\n    if (!products) return;\n    for (const product of products){\n        // Find products in the same category\n        const { data: categoryProducts } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"products\").select(\"*\").eq(\"category\", product.category).neq(\"id\", product.id);\n        // Create recommendations for category similarity\n        for (const categoryProduct of categoryProducts || []){\n            await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"product_recommendations\").upsert({\n                product_id: product.id,\n                recommended_product_id: categoryProduct.id,\n                score: 0.7,\n                reason: \"category_similarity\"\n            }, {\n                onConflict: \"product_id,recommended_product_id\"\n            });\n        }\n        // Find products with similar tags\n        const { data: tagSimilarProducts } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"products\").select(\"*\").overlaps(\"tags\", product.tags).neq(\"id\", product.id);\n        for (const tagProduct of tagSimilarProducts || []){\n            const commonTags = product.tags.filter((tag)=>tagProduct.tags.includes(tag));\n            const similarityScore = commonTags.length / Math.max(product.tags.length, tagProduct.tags.length);\n            await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"product_recommendations\").upsert({\n                product_id: product.id,\n                recommended_product_id: tagProduct.id,\n                score: Math.max(0.5, similarityScore),\n                reason: \"tag_similarity\"\n            }, {\n                onConflict: \"product_id,recommended_product_id\"\n            });\n        }\n    }\n}\nasync function updateRecommendationsForUser(userId) {\n    const { data: userOrders } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"orders\").select(`\n      *,\n      order_items(\n        *,\n        product:products(*)\n      )\n    `).eq(\"user_id\", userId).in(\"status\", [\n        \"delivered\",\n        \"shipped\"\n    ]);\n    // Find products that are frequently bought together\n    for (const order of userOrders || []){\n        const orderProductIds = order.order_items?.map((item)=>item.product_id) || [];\n        for(let i = 0; i < orderProductIds.length; i++){\n            for(let j = i + 1; j < orderProductIds.length; j++){\n                const product1Id = orderProductIds[i];\n                const product2Id = orderProductIds[j];\n                // Create bidirectional recommendations\n                await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"product_recommendations\").upsert({\n                    product_id: product1Id,\n                    recommended_product_id: product2Id,\n                    score: 0.8,\n                    reason: \"bought_together\"\n                }, {\n                    onConflict: \"product_id,recommended_product_id\"\n                });\n                await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"product_recommendations\").upsert({\n                    product_id: product2Id,\n                    recommended_product_id: product1Id,\n                    score: 0.8,\n                    reason: \"bought_together\"\n                }, {\n                    onConflict: \"product_id,recommended_product_id\"\n                });\n            }\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q3hCbEIsT0FBTztvQkFDUEMsUUFBUTtnQkFDVixHQUFHO29CQUNEQyxZQUFZO2dCQUNkO1lBQ0o7UUFDRjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFkbGVzcy1lY29tbWVyY2UvLi9zcmMvbGliL3JlY29tbWVuZGF0aW9ucy50cz8zZWI1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN1cGFiYXNlIH0gZnJvbSAnLi9zdXBhYmFzZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVjb21tZW5kYXRpb25BbGdvcml0aG0ge1xuICBuYW1lOiBzdHJpbmc7XG4gIHdlaWdodDogbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgUmVjb21tZW5kYXRpb25XaXRoUHJvZHVjdCB7XG4gIHByb2R1Y3RfaWQ6IHN0cmluZztcbiAgcmVjb21tZW5kZWRfcHJvZHVjdF9pZDogc3RyaW5nO1xuICBzY29yZTogbnVtYmVyO1xuICByZWFzb24/OiBzdHJpbmc7XG4gIHJlY29tbWVuZGVkX3Byb2R1Y3Q6IGFueTtcbn1cblxuaW50ZXJmYWNlIE9yZGVyV2l0aEl0ZW1zIHtcbiAgaWQ6IHN0cmluZztcbiAgdXNlcl9pZDogc3RyaW5nO1xuICBzdGF0dXM6IHN0cmluZztcbiAgdG90YWw6IG51bWJlcjtcbiAgb3JkZXJfaXRlbXM/OiBBcnJheTx7XG4gICAgcHJvZHVjdF9pZDogc3RyaW5nO1xuICAgIHF1YW50aXR5OiBudW1iZXI7XG4gICAgcHJpY2U6IG51bWJlcjtcbiAgfT47XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQcm9kdWN0UmVjb21tZW5kYXRpb25zKFxuICBwcm9kdWN0SWQ6IHN0cmluZyxcbiAgdXNlcklkPzogc3RyaW5nLFxuICBsaW1pdDogbnVtYmVyID0gNVxuKSB7XG4gIGNvbnN0IHsgZGF0YTogcmVjb21tZW5kYXRpb25zLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgncHJvZHVjdF9yZWNvbW1lbmRhdGlvbnMnKVxuICAgIC5zZWxlY3QoYFxuICAgICAgKixcbiAgICAgIHJlY29tbWVuZGVkX3Byb2R1Y3Q6cHJvZHVjdHMhcHJvZHVjdF9yZWNvbW1lbmRhdGlvbnNfcmVjb21tZW5kZWRfcHJvZHVjdF9pZF9ma2V5KCopXG4gICAgYClcbiAgICAuZXEoJ3Byb2R1Y3RfaWQnLCBwcm9kdWN0SWQpXG4gICAgLm9yZGVyKCdzY29yZScsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxuICAgIC5saW1pdChsaW1pdCk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcmVjb21tZW5kYXRpb25zOicsIGVycm9yKTtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICByZXR1cm4gKHJlY29tbWVuZGF0aW9ucyBhcyBSZWNvbW1lbmRhdGlvbldpdGhQcm9kdWN0W10pPy5tYXAocmVjID0+IHJlYy5yZWNvbW1lbmRlZF9wcm9kdWN0KSB8fCBbXTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFBlcnNvbmFsaXplZFJlY29tbWVuZGF0aW9ucyhcbiAgdXNlcklkOiBzdHJpbmcsXG4gIGxpbWl0OiBudW1iZXIgPSAxMFxuKSB7XG4gIC8vIEdldCB1c2VyJ3MgcHVyY2hhc2UgaGlzdG9yeVxuICBjb25zdCB7IGRhdGE6IHVzZXJPcmRlcnMgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgLmZyb20oJ29yZGVycycpXG4gICAgLnNlbGVjdChgXG4gICAgICAqLFxuICAgICAgb3JkZXJfaXRlbXMoXG4gICAgICAgICosXG4gICAgICAgIHByb2R1Y3Q6cHJvZHVjdHMoKilcbiAgICAgIClcbiAgICBgKVxuICAgIC5lcSgndXNlcl9pZCcsIHVzZXJJZClcbiAgICAuaW4oJ3N0YXR1cycsIFsnZGVsaXZlcmVkJywgJ3NoaXBwZWQnXSk7XG5cbiAgLy8gR2V0IHVzZXIncyB3aXNobGlzdFxuICBjb25zdCB7IGRhdGE6IHVzZXJXaXNobGlzdCB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgnd2lzaGxpc3RfaXRlbXMnKVxuICAgIC5zZWxlY3QoYFxuICAgICAgKixcbiAgICAgIHByb2R1Y3Q6cHJvZHVjdHMoKilcbiAgICBgKVxuICAgIC5lcSgndXNlcl9pZCcsIHVzZXJJZCk7XG5cbiAgLy8gR2V0IHVzZXIncyByZXZpZXdzXG4gIGNvbnN0IHsgZGF0YTogdXNlclJldmlld3MgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgLmZyb20oJ3Jldmlld3MnKVxuICAgIC5zZWxlY3QoYFxuICAgICAgKixcbiAgICAgIHByb2R1Y3Q6cHJvZHVjdHMoKilcbiAgICBgKVxuICAgIC5lcSgndXNlcl9pZCcsIHVzZXJJZClcbiAgICAuZ3RlKCdyYXRpbmcnLCA0KTtcblxuICAvLyBDb2xsZWN0IGFsbCBwcm9kdWN0IElEcyBmcm9tIHVzZXIncyBoaXN0b3J5XG4gIGNvbnN0IHB1cmNoYXNlZFByb2R1Y3RJZHMgPSAodXNlck9yZGVycyBhcyBPcmRlcldpdGhJdGVtc1tdKT8uZmxhdE1hcChvcmRlciA9PiBcbiAgICBvcmRlci5vcmRlcl9pdGVtcz8ubWFwKChpdGVtOiBhbnkpID0+IGl0ZW0ucHJvZHVjdF9pZCkgfHwgW11cbiAgKSB8fCBbXTtcbiAgY29uc3Qgd2lzaGxpc3RQcm9kdWN0SWRzID0gdXNlcldpc2hsaXN0Py5tYXAoKGl0ZW06IGFueSkgPT4gaXRlbS5wcm9kdWN0X2lkKSB8fCBbXTtcbiAgY29uc3QgcmV2aWV3ZWRQcm9kdWN0SWRzID0gdXNlclJldmlld3M/Lm1hcCgocmV2aWV3OiBhbnkpID0+IHJldmlldy5wcm9kdWN0X2lkKSB8fCBbXTtcblxuICBjb25zdCBhbGxVc2VyUHJvZHVjdElkcyA9IFtcbiAgICAuLi5wdXJjaGFzZWRQcm9kdWN0SWRzLFxuICAgIC4uLndpc2hsaXN0UHJvZHVjdElkcyxcbiAgICAuLi5yZXZpZXdlZFByb2R1Y3RJZHMsXG4gIF07XG5cbiAgaWYgKGFsbFVzZXJQcm9kdWN0SWRzLmxlbmd0aCA9PT0gMCkge1xuICAgIC8vIElmIG5vIHVzZXIgaGlzdG9yeSwgcmV0dXJuIHBvcHVsYXIgcHJvZHVjdHNcbiAgICByZXR1cm4gZ2V0UG9wdWxhclByb2R1Y3RzKGxpbWl0KTtcbiAgfVxuXG4gIC8vIEdldCByZWNvbW1lbmRhdGlvbnMgYmFzZWQgb24gdXNlcidzIHByb2R1Y3RzXG4gIGNvbnN0IHsgZGF0YTogcmVjb21tZW5kYXRpb25zLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgncHJvZHVjdF9yZWNvbW1lbmRhdGlvbnMnKVxuICAgIC5zZWxlY3QoYFxuICAgICAgKixcbiAgICAgIHJlY29tbWVuZGVkX3Byb2R1Y3Q6cHJvZHVjdHMhcHJvZHVjdF9yZWNvbW1lbmRhdGlvbnNfcmVjb21tZW5kZWRfcHJvZHVjdF9pZF9ma2V5KCopXG4gICAgYClcbiAgICAuaW4oJ3Byb2R1Y3RfaWQnLCBhbGxVc2VyUHJvZHVjdElkcylcbiAgICAubm90KCdyZWNvbW1lbmRlZF9wcm9kdWN0X2lkJywgJ2luJywgYCgke2FsbFVzZXJQcm9kdWN0SWRzLmpvaW4oJywnKX0pYClcbiAgICAub3JkZXIoJ3Njb3JlJywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXG4gICAgLmxpbWl0KGxpbWl0KTtcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBwZXJzb25hbGl6ZWQgcmVjb21tZW5kYXRpb25zOicsIGVycm9yKTtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICByZXR1cm4gKHJlY29tbWVuZGF0aW9ucyBhcyBSZWNvbW1lbmRhdGlvbldpdGhQcm9kdWN0W10pPy5tYXAocmVjID0+IHJlYy5yZWNvbW1lbmRlZF9wcm9kdWN0KSB8fCBbXTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFBvcHVsYXJQcm9kdWN0cyhsaW1pdDogbnVtYmVyID0gMTApIHtcbiAgLy8gR2V0IHByb2R1Y3RzIHdpdGggbW9zdCBvcmRlcnNcbiAgY29uc3QgeyBkYXRhOiBwb3B1bGFyUHJvZHVjdHMsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKCdwcm9kdWN0cycpXG4gICAgLnNlbGVjdChgXG4gICAgICAqLFxuICAgICAgb3JkZXJfaXRlbXMoY291bnQpLFxuICAgICAgcmV2aWV3cyhjb3VudClcbiAgICBgKVxuICAgIC5vcmRlcignb3JkZXJfaXRlbXMoY291bnQpJywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXG4gICAgLm9yZGVyKCdyZXZpZXdzKGNvdW50KScsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxuICAgIC5saW1pdChsaW1pdCk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcG9wdWxhciBwcm9kdWN0czonLCBlcnJvcik7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgcmV0dXJuIHBvcHVsYXJQcm9kdWN0cyB8fCBbXTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNpbWlsYXJQcm9kdWN0cyhcbiAgcHJvZHVjdElkOiBzdHJpbmcsXG4gIGxpbWl0OiBudW1iZXIgPSA1XG4pIHtcbiAgY29uc3QgeyBkYXRhOiBwcm9kdWN0IH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKCdwcm9kdWN0cycpXG4gICAgLnNlbGVjdCgnKicpXG4gICAgLmVxKCdpZCcsIHByb2R1Y3RJZClcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKCFwcm9kdWN0KSByZXR1cm4gW107XG5cbiAgLy8gRmluZCBwcm9kdWN0cyBpbiB0aGUgc2FtZSBjYXRlZ29yeVxuICBjb25zdCB7IGRhdGE6IHNpbWlsYXJQcm9kdWN0cywgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgLmZyb20oJ3Byb2R1Y3RzJylcbiAgICAuc2VsZWN0KCcqJylcbiAgICAuZXEoJ2NhdGVnb3J5JywgcHJvZHVjdC5jYXRlZ29yeSlcbiAgICAubmVxKCdpZCcsIHByb2R1Y3RJZClcbiAgICAubGltaXQobGltaXQpO1xuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHNpbWlsYXIgcHJvZHVjdHM6JywgZXJyb3IpO1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIHJldHVybiBzaW1pbGFyUHJvZHVjdHMgfHwgW107XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZVJlY29tbWVuZGF0aW9ucygpIHtcbiAgY29uc3QgeyBkYXRhOiBwcm9kdWN0cyB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgncHJvZHVjdHMnKVxuICAgIC5zZWxlY3QoJyonKTtcbiAgXG4gIGlmICghcHJvZHVjdHMpIHJldHVybjtcblxuICBmb3IgKGNvbnN0IHByb2R1Y3Qgb2YgcHJvZHVjdHMpIHtcbiAgICAvLyBGaW5kIHByb2R1Y3RzIGluIHRoZSBzYW1lIGNhdGVnb3J5XG4gICAgY29uc3QgeyBkYXRhOiBjYXRlZ29yeVByb2R1Y3RzIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3Byb2R1Y3RzJylcbiAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgLmVxKCdjYXRlZ29yeScsIHByb2R1Y3QuY2F0ZWdvcnkpXG4gICAgICAubmVxKCdpZCcsIHByb2R1Y3QuaWQpO1xuXG4gICAgLy8gQ3JlYXRlIHJlY29tbWVuZGF0aW9ucyBmb3IgY2F0ZWdvcnkgc2ltaWxhcml0eVxuICAgIGZvciAoY29uc3QgY2F0ZWdvcnlQcm9kdWN0IG9mIGNhdGVnb3J5UHJvZHVjdHMgfHwgW10pIHtcbiAgICAgIGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdwcm9kdWN0X3JlY29tbWVuZGF0aW9ucycpXG4gICAgICAgIC51cHNlcnQoe1xuICAgICAgICAgIHByb2R1Y3RfaWQ6IHByb2R1Y3QuaWQsXG4gICAgICAgICAgcmVjb21tZW5kZWRfcHJvZHVjdF9pZDogY2F0ZWdvcnlQcm9kdWN0LmlkLFxuICAgICAgICAgIHNjb3JlOiAwLjcsXG4gICAgICAgICAgcmVhc29uOiAnY2F0ZWdvcnlfc2ltaWxhcml0eScsXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBvbkNvbmZsaWN0OiAncHJvZHVjdF9pZCxyZWNvbW1lbmRlZF9wcm9kdWN0X2lkJ1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBGaW5kIHByb2R1Y3RzIHdpdGggc2ltaWxhciB0YWdzXG4gICAgY29uc3QgeyBkYXRhOiB0YWdTaW1pbGFyUHJvZHVjdHMgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgncHJvZHVjdHMnKVxuICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAub3ZlcmxhcHMoJ3RhZ3MnLCBwcm9kdWN0LnRhZ3MpXG4gICAgICAubmVxKCdpZCcsIHByb2R1Y3QuaWQpO1xuXG4gICAgZm9yIChjb25zdCB0YWdQcm9kdWN0IG9mIHRhZ1NpbWlsYXJQcm9kdWN0cyB8fCBbXSkge1xuICAgICAgY29uc3QgY29tbW9uVGFncyA9IHByb2R1Y3QudGFncy5maWx0ZXIoKHRhZzogc3RyaW5nKSA9PiBcbiAgICAgICAgdGFnUHJvZHVjdC50YWdzLmluY2x1ZGVzKHRhZylcbiAgICAgICk7XG4gICAgICBjb25zdCBzaW1pbGFyaXR5U2NvcmUgPSBjb21tb25UYWdzLmxlbmd0aCAvIE1hdGgubWF4KHByb2R1Y3QudGFncy5sZW5ndGgsIHRhZ1Byb2R1Y3QudGFncy5sZW5ndGgpO1xuXG4gICAgICBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgncHJvZHVjdF9yZWNvbW1lbmRhdGlvbnMnKVxuICAgICAgICAudXBzZXJ0KHtcbiAgICAgICAgICBwcm9kdWN0X2lkOiBwcm9kdWN0LmlkLFxuICAgICAgICAgIHJlY29tbWVuZGVkX3Byb2R1Y3RfaWQ6IHRhZ1Byb2R1Y3QuaWQsXG4gICAgICAgICAgc2NvcmU6IE1hdGgubWF4KDAuNSwgc2ltaWxhcml0eVNjb3JlKSxcbiAgICAgICAgICByZWFzb246ICd0YWdfc2ltaWxhcml0eScsXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBvbkNvbmZsaWN0OiAncHJvZHVjdF9pZCxyZWNvbW1lbmRlZF9wcm9kdWN0X2lkJ1xuICAgICAgICB9KTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVJlY29tbWVuZGF0aW9uc0ZvclVzZXIodXNlcklkOiBzdHJpbmcpIHtcbiAgY29uc3QgeyBkYXRhOiB1c2VyT3JkZXJzIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKCdvcmRlcnMnKVxuICAgIC5zZWxlY3QoYFxuICAgICAgKixcbiAgICAgIG9yZGVyX2l0ZW1zKFxuICAgICAgICAqLFxuICAgICAgICBwcm9kdWN0OnByb2R1Y3RzKCopXG4gICAgICApXG4gICAgYClcbiAgICAuZXEoJ3VzZXJfaWQnLCB1c2VySWQpXG4gICAgLmluKCdzdGF0dXMnLCBbJ2RlbGl2ZXJlZCcsICdzaGlwcGVkJ10pO1xuXG4gIC8vIEZpbmQgcHJvZHVjdHMgdGhhdCBhcmUgZnJlcXVlbnRseSBib3VnaHQgdG9nZXRoZXJcbiAgZm9yIChjb25zdCBvcmRlciBvZiB1c2VyT3JkZXJzIHx8IFtdKSB7XG4gICAgY29uc3Qgb3JkZXJQcm9kdWN0SWRzID0gb3JkZXIub3JkZXJfaXRlbXM/Lm1hcCgoaXRlbTogYW55KSA9PiBpdGVtLnByb2R1Y3RfaWQpIHx8IFtdO1xuICAgIFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3JkZXJQcm9kdWN0SWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCBvcmRlclByb2R1Y3RJZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgY29uc3QgcHJvZHVjdDFJZCA9IG9yZGVyUHJvZHVjdElkc1tpXTtcbiAgICAgICAgY29uc3QgcHJvZHVjdDJJZCA9IG9yZGVyUHJvZHVjdElkc1tqXTtcblxuICAgICAgICAvLyBDcmVhdGUgYmlkaXJlY3Rpb25hbCByZWNvbW1lbmRhdGlvbnNcbiAgICAgICAgYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbSgncHJvZHVjdF9yZWNvbW1lbmRhdGlvbnMnKVxuICAgICAgICAgIC51cHNlcnQoe1xuICAgICAgICAgICAgcHJvZHVjdF9pZDogcHJvZHVjdDFJZCxcbiAgICAgICAgICAgIHJlY29tbWVuZGVkX3Byb2R1Y3RfaWQ6IHByb2R1Y3QySWQsXG4gICAgICAgICAgICBzY29yZTogMC44LFxuICAgICAgICAgICAgcmVhc29uOiAnYm91Z2h0X3RvZ2V0aGVyJyxcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBvbkNvbmZsaWN0OiAncHJvZHVjdF9pZCxyZWNvbW1lbmRlZF9wcm9kdWN0X2lkJ1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgIGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oJ3Byb2R1Y3RfcmVjb21tZW5kYXRpb25zJylcbiAgICAgICAgICAudXBzZXJ0KHtcbiAgICAgICAgICAgIHByb2R1Y3RfaWQ6IHByb2R1Y3QySWQsXG4gICAgICAgICAgICByZWNvbW1lbmRlZF9wcm9kdWN0X2lkOiBwcm9kdWN0MUlkLFxuICAgICAgICAgICAgc2NvcmU6IDAuOCxcbiAgICAgICAgICAgIHJlYXNvbjogJ2JvdWdodF90b2dldGhlcicsXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgb25Db25mbGljdDogJ3Byb2R1Y3RfaWQscmVjb21tZW5kZWRfcHJvZHVjdF9pZCdcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0gIl0sIm5hbWVzIjpbInN1cGFiYXNlIiwiZ2V0UHJvZHVjdFJlY29tbWVuZGF0aW9ucyIsInByb2R1Y3RJZCIsInVzZXJJZCIsImxpbWl0IiwiZGF0YSIsInJlY29tbWVuZGF0aW9ucyIsImVycm9yIiwiZnJvbSIsInNlbGVjdCIsImVxIiwib3JkZXIiLCJhc2NlbmRpbmciLCJjb25zb2xlIiwibWFwIiwicmVjIiwicmVjb21tZW5kZWRfcHJvZHVjdCIsImdldFBlcnNvbmFsaXplZFJlY29tbWVuZGF0aW9ucyIsInVzZXJPcmRlcnMiLCJpbiIsInVzZXJXaXNobGlzdCIsInVzZXJSZXZpZXdzIiwiZ3RlIiwicHVyY2hhc2VkUHJvZHVjdElkcyIsImZsYXRNYXAiLCJvcmRlcl9pdGVtcyIsIml0ZW0iLCJwcm9kdWN0X2lkIiwid2lzaGxpc3RQcm9kdWN0SWRzIiwicmV2aWV3ZWRQcm9kdWN0SWRzIiwicmV2aWV3IiwiYWxsVXNlclByb2R1Y3RJZHMiLCJsZW5ndGgiLCJnZXRQb3B1bGFyUHJvZHVjdHMiLCJub3QiLCJqb2luIiwicG9wdWxhclByb2R1Y3RzIiwiZ2V0U2ltaWxhclByb2R1Y3RzIiwicHJvZHVjdCIsInNpbmdsZSIsInNpbWlsYXJQcm9kdWN0cyIsImNhdGVnb3J5IiwibmVxIiwiZ2VuZXJhdGVSZWNvbW1lbmRhdGlvbnMiLCJwcm9kdWN0cyIsImNhdGVnb3J5UHJvZHVjdHMiLCJpZCIsImNhdGVnb3J5UHJvZHVjdCIsInVwc2VydCIsInJlY29tbWVuZGVkX3Byb2R1Y3RfaWQiLCJzY29yZSIsInJlYXNvbiIsIm9uQ29uZmxpY3QiLCJ0YWdTaW1pbGFyUHJvZHVjdHMiLCJvdmVybGFwcyIsInRhZ3MiLCJ0YWdQcm9kdWN0IiwiY29tbW9uVGFncyIsImZpbHRlciIsInRhZyIsImluY2x1ZGVzIiwic2ltaWxhcml0eVNjb3JlIiwiTWF0aCIsIm1heCIsInVwZGF0ZVJlY29tbWVuZGF0aW9uc0ZvclVzZXIiLCJvcmRlclByb2R1Y3RJZHMiLCJpIiwiaiIsInByb2R1Y3QxSWQiLCJwcm9kdWN0MklkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/recommendations.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/supabase.ts":
/*!*****************************!*\
  !*** ./src/lib/supabase.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   supabase: () => (/* binding */ supabase)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\nconst supabaseUrl = \"https://ohipggwnmnypiubsbcvu.supabase.co\";\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9oaXBnZ3dubW55cGl1YnNiY3Z1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM4ODkxNDEsImV4cCI6MjA2OTQ2NTE0MX0.93kUs4BivPs922cUNWs5JiY6j-woYy7RqR-gGsXRwsg\";\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3N1cGFiYXNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXFEO0FBRXJELE1BQU1DLGNBQWNDLDBDQUFvQztBQUN4RCxNQUFNRyxrQkFBa0JILGtOQUF5QztBQUUxRCxNQUFNSyxXQUFXUCxtRUFBWUEsQ0FBQ0MsYUFBYUksaUJBQWlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVhZGxlc3MtZWNvbW1lcmNlLy4vc3JjL2xpYi9zdXBhYmFzZS50cz8wNmUxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcyc7XG5cbmNvbnN0IHN1cGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMITtcbmNvbnN0IHN1cGFiYXNlQW5vbktleSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZITtcblxuZXhwb3J0IGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZUFub25LZXkpO1xuXG4vLyBEYXRhYmFzZSB0eXBlc1xuZXhwb3J0IGludGVyZmFjZSBVc2VyIHtcbiAgaWQ6IHN0cmluZztcbiAgZW1haWw6IHN0cmluZztcbiAgbmFtZT86IHN0cmluZztcbiAgaW1hZ2U/OiBzdHJpbmc7XG4gIGVtYWlsX3ZlcmlmaWVkPzogc3RyaW5nO1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQcm9kdWN0IHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgcHJpY2U6IG51bWJlcjtcbiAgaW1hZ2VzOiBzdHJpbmdbXTtcbiAgY2F0ZWdvcnk6IHN0cmluZztcbiAgdGFnczogc3RyaW5nW107XG4gIGluX3N0b2NrOiBib29sZWFuO1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBPcmRlciB7XG4gIGlkOiBzdHJpbmc7XG4gIHVzZXJfaWQ6IHN0cmluZztcbiAgc3RhdHVzOiBzdHJpbmc7XG4gIHRvdGFsOiBudW1iZXI7XG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgdXBkYXRlZF9hdDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE9yZGVySXRlbSB7XG4gIGlkOiBzdHJpbmc7XG4gIG9yZGVyX2lkOiBzdHJpbmc7XG4gIHByb2R1Y3RfaWQ6IHN0cmluZztcbiAgcXVhbnRpdHk6IG51bWJlcjtcbiAgcHJpY2U6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBXaXNobGlzdEl0ZW0ge1xuICBpZDogc3RyaW5nO1xuICB1c2VyX2lkOiBzdHJpbmc7XG4gIHByb2R1Y3RfaWQ6IHN0cmluZztcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJldmlldyB7XG4gIGlkOiBzdHJpbmc7XG4gIHVzZXJfaWQ6IHN0cmluZztcbiAgcHJvZHVjdF9pZDogc3RyaW5nO1xuICByYXRpbmc6IG51bWJlcjtcbiAgY29tbWVudD86IHN0cmluZztcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFByb2R1Y3RSZWNvbW1lbmRhdGlvbiB7XG4gIGlkOiBzdHJpbmc7XG4gIHByb2R1Y3RfaWQ6IHN0cmluZztcbiAgcmVjb21tZW5kZWRfcHJvZHVjdF9pZDogc3RyaW5nO1xuICBzY29yZTogbnVtYmVyO1xuICByZWFzb24/OiBzdHJpbmc7XG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFbWFpbE5vdGlmaWNhdGlvbiB7XG4gIGlkOiBzdHJpbmc7XG4gIHVzZXJfaWQ/OiBzdHJpbmc7XG4gIG9yZGVyX2lkPzogc3RyaW5nO1xuICB0eXBlOiBzdHJpbmc7XG4gIHN1YmplY3Q6IHN0cmluZztcbiAgY29udGVudDogc3RyaW5nO1xuICBzZW50OiBib29sZWFuO1xuICBzZW50X2F0Pzogc3RyaW5nO1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG59ICJdLCJuYW1lcyI6WyJjcmVhdGVDbGllbnQiLCJzdXBhYmFzZVVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJzdXBhYmFzZUFub25LZXkiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsInN1cGFiYXNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/supabase.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/next-auth","vendor-chunks/@babel","vendor-chunks/jose","vendor-chunks/@supabase","vendor-chunks/openid-client","vendor-chunks/uuid","vendor-chunks/ws","vendor-chunks/whatwg-url","vendor-chunks/oauth","vendor-chunks/@panva","vendor-chunks/isows","vendor-chunks/yallist","vendor-chunks/tr46","vendor-chunks/preact-render-to-string","vendor-chunks/oidc-token-hash","vendor-chunks/bcryptjs","vendor-chunks/webidl-conversions","vendor-chunks/preact","vendor-chunks/cookie"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frecommendations%2Froute&page=%2Fapi%2Frecommendations%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frecommendations%2Froute.ts&appDir=%2FUsers%2Fvaitahahavya%2FProjects%2Fmorandi%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fvaitahahavya%2FProjects%2Fmorandi&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();